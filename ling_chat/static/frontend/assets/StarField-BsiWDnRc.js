import{_ as p,r as d,o as g,y as S,v as h,c as w,h as y}from"./index-CrIUDniy.js";const x="/assets/LingChatLogo-DrtNjGh5.png",C={__name:"StarField",props:{enabled:{type:Boolean,default:!0},starCount:{type:Number,default:200},scrollSpeed:{type:Number,default:.2},colors:{type:Array,default:()=>["rgb(173, 216, 230)","rgb(176, 224, 230)","rgb(241, 141, 252)","rgb(176, 230, 224)","rgb(173, 230, 216)"]}},emits:["ready"],setup(u,{emit:v}){const s=u,l=v,n=d(null);d(null);const e=d(null);class c{constructor(t,i){this.canvas=t;const r=t.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.ctx=r,this.stars=[],this.config={starCount:i.starCount,starSize:2,attractorSize:100,scrollSpeed:i.scrollSpeed,directionChangeRate:.2,colors:i.colors},this.pointer={x:0,y:0},this.dir=Math.PI,this.w=0,this.h=0,this.fpsLimit=30,this.lastFrameTime=0,this.frameInterval=1e3/this.fpsLimit,this.init()}init(){this.setupCanvas(),this.createStars(),this.addEventListeners(),this.startAnimation()}setupCanvas(){this.w=this.canvas.width=window.innerWidth,this.h=this.canvas.height=window.innerHeight,this.pointer.x=this.w/2,this.pointer.y=this.h/2}createStars(){for(let t=0;t<this.config.starCount;t++){const i=this.randomG(),r=this.config.colors[Math.floor(Math.random()*this.config.colors.length)];this.stars.push({x:this.randomInt(this.w*1e3),y:this.randomInt(this.h*1e3),v:i+.5,color:r})}this.stars.sort((t,i)=>t.v-i.v)}update=t=>{if(t-this.lastFrameTime<this.frameInterval){this.animationId=requestAnimationFrame(this.update);return}this.lastFrameTime=t,(this.w!==window.innerWidth||this.h!==window.innerHeight)&&this.setupCanvas(),this.dir=Math.sin(t/13289*this.config.directionChangeRate)*Math.PI,this.ctx.clearRect(0,0,this.w,this.h),this.ctx.globalCompositeOperation="lighter";const i=Math.cos(this.dir)*this.config.scrollSpeed,r=Math.sin(this.dir)*this.config.scrollSpeed;this.stars.forEach(o=>{o.x+=o.v*i,o.y+=o.v*r;const f=this.modulo(o.x,this.w+this.config.starSize+this.config.attractorSize)-(this.config.starSize/2+this.config.attractorSize/2),m=this.modulo(o.y,this.h+this.config.starSize+this.config.attractorSize)-(this.config.starSize/2+this.config.attractorSize/2);this.ctx.fillStyle=o.color,this.ctx.fillRect(f,m,this.config.starSize*o.v,this.config.starSize*o.v)}),this.ctx.globalCompositeOperation="source-over",this.animationId=requestAnimationFrame(this.update)};addEventListeners(){window.addEventListener("resize",this.handleResize),this.canvas.addEventListener("mousemove",this.handleMouseMove)}handleResize=()=>{this.animationId&&cancelAnimationFrame(this.animationId),this.setupCanvas(),this.startAnimation()};handleMouseMove=t=>{this.pointer.x=t.clientX,this.pointer.y=t.clientY};startAnimation(){this.animationId=requestAnimationFrame(this.update)}stopAnimation(){this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=null)}destroy(){this.stopAnimation(),window.removeEventListener("resize",this.handleResize),this.canvas.removeEventListener("mousemove",this.handleMouseMove)}randomInt(t,i){return i===void 0&&(i=t,t=0),Math.floor(Math.random()*(i-t)+t)}randomG(){return Math.random()*Math.random()*Math.random()}modulo(t,i){return(t%i+i)%i}}return g(()=>{n.value&&s.enabled&&(e.value=new c(n.value,{starCount:s.starCount,scrollSpeed:s.scrollSpeed,colors:s.colors}),l("ready",e.value))}),S(()=>{e.value&&e.value.destroy()}),h(()=>s.enabled,a=>{a&&n.value&&!e.value?(e.value=new c(n.value,{starCount:s.starCount,scrollSpeed:s.scrollSpeed,colors:s.colors}),l("ready",e.value)):!a&&e.value&&(e.value.destroy(),e.value=null)}),h(()=>s.starCount,a=>{e.value&&(e.value.destroy(),e.value=new c(n.value,{starCount:a,scrollSpeed:s.scrollSpeed,colors:s.colors}),l("ready",e.value))}),h(()=>s.scrollSpeed,a=>{e.value&&(e.value.config.scrollSpeed=a)}),h(()=>s.colors,a=>{e.value&&(e.value.config.colors=a)}),(a,t)=>(y(),w("canvas",{ref_key:"canvasRef",ref:n,class:"starfield-canvas"},null,512))}},z=p(C,[["__scopeId","data-v-95fdd1fd"]]);export{z as S,x as _};
